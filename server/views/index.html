<!DOCTYPE html>

<html>
<head>
    <!-- Compiled and minified CSS -->
    <title>pokeai</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.min.css">
    <link href="http://oss.maxcdn.com/clusterize.js/0.15.0/clusterize.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

</head>
<body>
    <div class="navbar-fixed">
        <nav>
          <div class="nav-wrapper red darken-1">
            <a href="#!" class="brand-logo center">pokeai</a>
            <ul id="nav-mobile" class="right hide-on-med-and-dowm" style="height:inherit">
                <li style="height:inherit">
                    <a href="https://clarifai.com" style="height:inherit">
                        <img class="right" style="height:70%;padding-top:5%" src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/83/Clarifai_Logo.png/320px-Clarifai_Logo.png"></img>API By&nbsp;
                    </a>
                </li>
            </ul>
          </div>
        </nav>
    </div>
    <div class="container">
        <div class="row">
            <div class="col s12 m6">
                <div class="card" style="padding-top:20px" id="search">
                    <div class="input-field card-content">
                        <i class="material-icons prefix">search</i>
          <input id="tallgrass" type="text" class="validate">
          <label for="tallgrass">Pokemon Name</label>
          <a class="waves-effect waves-light btn" onclick="tallgrass()">Enter the tall grass!</a>
                    </div>
                    <div class="input-field card-content">
                        <i class="material-icons prefix">launch</i>
          <input id="classify" type="text" class="validate">
          <label for="classify">Image Url</label>
          <a class="waves-effect waves-light btn" onclick="classify()">Who's that Pokemon?</a>
                    </div>
                </div>
            </div>
            <div class="col m6 s12">
                <div class="card" id="image" style="display:none">
                    <div class="card-image">
                    <img id="pokemon-image" src=""/>
                    <span class="card-title" id="pokemon-name" style="color:black"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <a id="refresh" class="waves-effect waves-light btn-large green" style="position:fixed;bottom:45px;right:24px;"><i class="material-icons left">replay</i>Refresh</a>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="http://underscorejs.org/underscore-min.js"></script>
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/js/materialize.min.js"></script>
    <!--<script src="./functions.js"></script>-->

    <script>
        function tallgrass(){
            var val = $("#tallgrass").val().trim();
            if (val){
                $.get("/find?q="+val,function(body){
                    $("#pokemon-image").attr("src",body.url);
                    $("#pokemon-name").text(body.keyword);
                    $("#image").show();
                    console.log(body);
                });
            }
        }

        function classify(){
            var val = $("#classify").val().trim();

            if (val){
                $.get("/categorize?url="+val,function(body){
                    $("#pokemon-image").attr("src",body.url);
                    $("#pokemon-name").text(body.pokemon);
                    $("#image").show();
                    console.log(body);
                });
            }
        }
    </script>

</body>
</html>